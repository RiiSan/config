{
  "log":{"disabled":false,"level":"debug","timestamp":true},
  "dns":{
    "fakeip":{"enabled":true,"inet4_range":"198.18.0.0/15","inet6_range":"fc00::/18"},
    "servers":[
      {"tag":"DNSPod","address":"https://1.12.12.12/dns-query","detour":"DIRECT"},
      {"tag":"EasyMosdns","address":"https://doh.apad.pro/dns-query","address_resolver":"DNSPod","detour":"DIRECT"},
      {"tag":"dns-block","address":"rcode://success"},
      {"tag":"FakeIP","address":"fakeip"}
    ],
    "rules":[
      {"outbound":"any","server":"DNSPod"},
      {"clash_mode":"Direct","server":"DNSPod"},
      {"clash_mode":"Global","server":"FakeIP"},
      {"rule_set":["Direct List","GeoSite/CN","GeoSite/Apple-CN","GeoSite/iCloud-CN"],"server":"DNSPod"},
      {"rule_set":["Proxy List","GeoSite/GFW","GeoSite/Binance","GeoSite/Openai","GeoSite/Spotify"],"server":"FakeIP"},
      {"query_type":["A","AAAA"],"server":"FakeIP","rewrite_ttl":1}
    ],
    "final":"EasyMosdns",
    "independent_cache":true
  },
  "inbounds":[
    {
      "type":"tun",
      "address":["172.19.0.0/30","fdfe:dcba:9876::0/126"],
      "stack":"system",
      "auto_route":true,
      "auto_redirect":true,
      "sniff":true,
      "platform":{"http_proxy":{"enabled":true,"server":"127.0.0.1","server_port":7890}}
    },
    {"type":"mixed","listen":"::","listen_port":7890,"sniff":true}
  ],
  "outbounds":[
    {"tag":"PROXY","type":"selector","outbounds":["UNITED STATES","JAPAN","SINGAPORE","HONG KONG"],"default":"UNITED STATES","interrupt_exist_connections":true},
    {"tag":"CRYPTO","type":"selector","outbounds":["PROXY","SINGAPORE"],"default":"SINGAPORE","interrupt_exist_connections":true},
    {"tag":"EMBY","type":"selector","outbounds":["PROXY","DIRECT"],"default":"PROXY","interrupt_exist_connections":true},
    {"tag":"OPENAI","type":"selector","outbounds":["PROXY"],"default":"PROXY","interrupt_exist_connections":true},
    {"tag":"TELEGRAM","type":"selector","outbounds":["PROXY","SINGAPORE"],"default":"PROXY","interrupt_exist_connections":true},
    {"tag":"UNITED STATES","type":"urltest","outbounds":[],"url":"https://1.1.1.1/generate_204","interval":"5m","tolerance":50},
    {"tag":"JAPAN","type":"urltest","outbounds":[],"url":"https://1.1.1.1/generate_204","interval":"5m","tolerance":50},
    {"tag":"SINGAPORE","type":"urltest","outbounds":[],"url":"https://1.1.1.1/generate_204","interval":"5m","tolerance":50},
    {"tag":"HONG KONG","type":"urltest","outbounds":[],"url":"https://1.1.1.1/generate_204","interval":"5m","tolerance":50},
    {"tag":"FINAL","type":"selector","outbounds":["PROXY","DIRECT"],"default":"PROXY","interrupt_exist_connections":true},
    {"tag":"DIRECT","type":"direct"},
    {"tag":"REJECT","type":"block"},
    {"tag":"DNS-OUT","type":"dns"}
  ],
  "route":{
    "rules":[
      {"protocol":"dns","outbound":"DNS-OUT"},
      {"port":53,"outbound":"DNS-OUT"},
      {"ip_is_private":true,"outbound":"DIRECT"},
      {"clash_mode":"Direct","outbound":"DIRECT"},
      {"clash_mode":"Global","outbound":"PROXY"},
      {"package_name":"com.openai.chatgpt","outbound":"OPENAI"},
      {"package_name":"com.spotify.music","outbound":"UNITED STATES"},
      {"package_name":"com.hush.yamby","outbound":"EMBY"},
      {"package_name":"org.telegram.messenger","outbound":"TELEGRAM"},
      {"package_name":"xyz.nextalone.nagram","outbound":"TELEGRAM"},
      {"rule_set":"GeoSite/Binance","outbound":"CRYPTO"},
      {"rule_set":"GeoSite/Openai","outbound":"OPENAI"},
      {"rule_set":"GeoSite/Spotify","outbound":"UNITED STATES"},
      {"rule_set":"GeoSite/GFW","outbound":"PROXY"},
      {"rule_set":"Proxy List","outbound":"PROXY"},
      {"rule_set":"GeoSite/CN","outbound":"DIRECT"},
      {"rule_set":["GeoSite/Apple-CN","GeoSite/iCloud-CN"],"outbound":"DIRECT"},
      {"rule_set":"Direct List","outbound":"DIRECT"},
      {"rule_set":"GeoIP/Telegram","outbound":"TELEGRAM"},
      {"rule_set":"GeoIP/CN","outbound":"DIRECT"}
    ],
    "rule_set":[
      {"tag":"Direct List","format":"source","url":"https://ghp.ci/https://raw.githubusercontent.com/RiiSan/config/main/sing-box/direct.json","type":"remote","download_detour":"DIRECT"},
      {"tag":"Proxy List","format":"source","url":"https://ghp.ci/https://raw.githubusercontent.com/RiiSan/config/main/sing-box/proxy.json","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/Binance","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/binance.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/Openai","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/openai.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/Spotify","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/spotify.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/GFW","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/gfw.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/CN","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/cn.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/Apple-CN","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/apple@cn.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoSite/iCloud-CN","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/icloud@cn.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoIP/Telegram","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/telegram.srs","type":"remote","download_detour":"DIRECT"},
      {"tag":"GeoIP/CN","format":"binary","url":"https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs","type":"remote","download_detour":"DIRECT"}
    ],
    "final":"FINAL",
    "auto_detect_interface":true
  },
  "experimental":{
    "clash_api":{
      "external_controller":"0.0.0.0:9090",
      "secret":"",
      "external_ui":"ui",
      "external_ui_download_url":"https://ghp.ci/https://github.com/MetaCubeX/Yacd-meta/archive/gh-pages.zip",
      "external_ui_download_detour":"DIRECT"
    },
    "cache_file":{"enabled":true,"store_fakeip":true}
  }
}